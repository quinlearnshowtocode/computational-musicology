<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>French, German, Korean, Spanish Hip-hop</title>

<meta property="og:title" content="French, German, Korean, Spanish Hip-hop" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script src="index_files/header-attrs-2.14/header-attrs.js"></script>
<script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href="index_files/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
<link href="index_files/_Prompt-0.4.1/font.css" rel="stylesheet" />
<link href="index_files/_JetBrains Mono-0.4.1/font.css" rel="stylesheet" />
<script src="index_files/bs3compat-0.3.1/transition.js"></script>
<script src="index_files/bs3compat-0.3.1/tabs.js"></script>
<script src="index_files/bs3compat-0.3.1/bs3compat.js"></script>
<link href="index_files/flexdashboard-css-0.6.1/flexdashboard-css.css" rel="stylesheet" />
<link href="index_files/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="index_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="index_files/sly-1.6.1/sly.min.js"></script>
<script src="index_files/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<script src="index_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="index_files/plotly-binding-4.10.1/plotly.js"></script>
<script src="index_files/typedarray-0.1/typedarray.min.js"></script>
<link href="index_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="index_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="index_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="index_files/plotly-main-2.11.1/plotly-latest.min.js"></script>
<style type="text/css">
/*
  CSS for flexdashboard.js' use of Sly(). The sizing/position of this CSS needs to be
  applied _before_ flexdashboard.js initializes, which is why this CSS has been pulled
  out from flexdashboard.scss and inlined in the document's head.
*/

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  text-align: left;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.sbframe-commentary {
  width: 300px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}
@media only screen and (min-width: 768px) {
html, body {
  height: 100%;
}

#dashboard-container {
  height: 100%;
}
}
</style>



</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  French, German, Korean, Spanish Hip-hop
  <span class="navbar-author">
        </span>
</span>

<button id="navbar-button" type="button" class="navbar-toggle collapsed pull-right" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<img class="mobile-figure" data-mobile-figure-id=fig1 src="index_files/figure-html/unnamed-chunk-9-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig2 src="index_files/figure-html/unnamed-chunk-10-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig3 src="index_files/figure-html/unnamed-chunk-12-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig4 src="index_files/figure-html/unnamed-chunk-14-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig5 src="index_files/figure-html/unnamed-chunk-15-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig6 src="index_files/figure-html/unnamed-chunk-16-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig7 src="index_files/figure-html/unnamed-chunk-22-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig8 src="index_files/figure-html/unnamed-chunk-26-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig9 src="index_files/figure-html/unnamed-chunk-27-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig10 src="index_files/figure-html/unnamed-chunk-28-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig11 src="index_files/figure-html/unnamed-chunk-29-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig12 src="index_files/figure-html/unnamed-chunk-33-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig13 src="index_files/figure-html/unnamed-chunk-36-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig14 src="index_files/figure-html/unnamed-chunk-37-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig15 src="index_files/figure-html/unnamed-chunk-42-2.mb.png" />
<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          var a = navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target);
          a.removeClass("nav-link").addClass("dropdown-item");
          li.append(a);
          menu.append(li);
        }
      } else {
        var li = $('<li class="nav-item"></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li class="nav-item"></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('data-bs-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');
    if (active)
      wrapper.addClass('active');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, null, navmenu, container);
      li.find("> a").removeClass("nav-link").addClass("dropdown-item");
      menu.append(li);
    } else {
      li.addClass("nav-item")
      container.append(li);
    }

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a class="nav-link"></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab" class="nav-link"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation" class="nav-item"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children()[activeTab]).tab("show");
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0)
      $('ul.nav a[href="' + hash + '"]').tab('show');
    FlexDashboardUtils.manageActiveNavbarMenu();

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        $('ul.nav a:first').tab('show');
      }
      FlexDashboardUtils.manageActiveNavbarMenu();
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
    this.manageActiveNavbarMenu();
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  },
  manageActiveNavbarMenu: function () {
    // remove active from currently active tabs
    $('.navbar ul.nav .active').removeClass('active');
    // find the active tab
    var activeTab = $('.dashboard-page-wrapper.tab-pane.active');
    if (activeTab.length > 0) {
      var tabId = activeTab.attr('id');
      if (tabId)
        $(".navbar ul.nav a[href='#" + tabId + "']").tab("show");
    }
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // If valueBox(color=) was an accent color, this attr should
      // be populated with the accent color and the relevant CSS comes
      // in through HTML dependencies
      var dataColorAccent = valueOutput.attr('data-color-accent');
      var valueBoxClasses = "value-box-" + (["primary", "info", "danger", "warning", "success"].join(" value-box-"));
      if (dataColorAccent) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.addClass('value-box-' + dataColorAccent);
      }

      // If valueBox(color=) was a CSS color, these other data-color-*
      // attrs will be populated
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.css('background-color', dataColor);
      }
      var dataColorText = valueOutput.attr('data-color-text');
      if (dataColorText) {
        valueBox.find(".inner").css('color', dataColorText);
      }
      var dataColorIcon = valueOutput.attr('data-color-icon');
      if (dataColorIcon) {
        valueBox.find(".icon").css('color', dataColorIcon);
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container">

<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div
id="a-transculturalcomputational-musiclogy-comparitive-study-on-hip-pop-music"
class="section level3">
<h3>A transcultural,computational musiclogy comparitive study on Hip-pop
music</h3>
<p>Hip-pop is a global phenomenon, while it has a global influence
rooted from the US in the 1970s, different cultures and subcultures,
other music genres all give hip-hop a twist of different taste. Hip-hop
is deeply intertwined with lyrics, languge, rythms, rythms inherent in
the language and societal narratives. Therefore, hip-pop can be studied
in this two way street: examining how certain features of hip-hop remain
universally popular across the globe, while also exploring how certain
feature contribute to its popularity on a local scale.</p>
<p>The corpus of choice are the current popular tracks across 4
different cultures where a relatively larger audience base and hip-pop
culture is active, these are French, German, Spanish(latin american),
and Korean hip-pop. These playlists contain 50 songs each and 200 in
total, chosen from the Spotify’s official playlist of hot and trending
hiphop songs in each language to make sure the corpus is up to date and
is valid for anlaysing trends in mainstream hip-hop scene across
different cultures.</p>
<p>Spanish(Latin american) Hip-hop:
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/4cy45EPpNjdniwLvfLDt0K?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></p>
<p>German Hip-hop:
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5k0hLNPNjD7iYs1PMtHEyM?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></p>
<p>Korean Hip-hop:
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/6eCZ6NrzVYcPB1WjlMeDV9?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></p>
<p>French Hip-hop:
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/0FiYE4GULpT2A2G682GdWd?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe></p>
</div>
<div
id="a-transculturalcomputational-musiclogy-comparitive-study-on-hip-pop-music-research-question-and-assumptions"
class="section level3">
<h3>A transcultural,computational musiclogy comparitive study on Hip-pop
music, research question and Assumptions</h3>
<p>Here are the research questions that this portfolio tries to
analyse:</p>
<p>1.How do the audio features of the popular hip-hop tracks vary across
different linguistic and cultural contexts in the current mainstream
hip-hop scene?</p>
<p>2.How do audio features influence the popularity of hip-hop tracks
across French, German, Spanish (Latin American), and Korean cultures,
and what commonalities and differences exist in their influence when
these cultures are analyzed separately and collectively as “mainstream
hiphop”?</p>
<p>The research questions invite an analysis of how musical trends and
listener preferences in hip-hop might differ by culture, as reflected in
the music’s audio features (danceability, energy, valence and timbre
etc.). It is assumed that certain audio features are universally
influential in determining the popularity of hip-hop tracks across
different cultures, while other features’ impact on popularity may vary
significantly due to cultural preferences and listening habits. Given
the differences and commonalities in the features, certain algorithms
can classify, detect, and effectively cluster the songs based on their
audio features.</p>
</div>
<div
id="exploratory-data-analysis-trends-in-the-hip-pop-music-in-different-languagescultures"
class="section level3">
<h3>Exploratory data analysis: Trends in the Hip-pop music in different
languages/cultures</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="576" data-figure-id=fig1 /></p>
<hr />
<p>From the graph we can see that the average value of the audio
features of the four hip-hop playlists shows the most variety in
instrumentalness, acouscticness, valence, speechiness and loudness.
Spanish hip-hop music has the highest average in speechiness,
instrumentalness, acousticness and valence, While french music has the
lowest average in instrumentalness, speechiness, and energy. German
hip-hop music has the lowest average in valence and instrumentalness,
while Korean hip-hip music is the highest in energy and valence, but
lowest in loudness and acousticness and speechiness.</p>
<p>This exploratory analysis provides great insight into the difference
in the popular hip-hop music across these cultures, which could be a
result of a variety of factors including historical music
influences,linguistic characteristics, trends and the difference in the
taste of the listeners(because in reversed that’s also why they became
so popular). This analysis gives us a good base for our further
correlation, regression, single track analysis, and clustering.</p>
</div>
<div id="box-plot-for-audio-features" class="section level3">
<h3>Box plot for audio features</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" width="576" data-figure-id=fig2 /></p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<hr />
<p>The distributions suggest that while some audio features like
danceability and energy are consistently emphasized across cultures in
hip-hop music, indicating a potential universal preference, other
features like acousticness, speechiness, and valence show more
variability, which might be influenced by cultural, linguistic
preference.</p>
<p>Acousticness: Latino hip-hop shows the highest median acousticness,
with a wide interquartile range, suggesting a significant variance in
acousticness within these tracks. Koerean hip-hop shows the lowest
median in acoustiness.</p>
<p>Danceability: All four playlists have a relatively high danceability,
which is expected for hip-hop, for its rhythm and beat that encourages
dancing. French hip-hop shows the widest IQR, indicating greater
variability in how danceable the tracks in the playlists are</p>
<p>Energy: Korean hip-hop shows a notably higher median energy compared
to other playlists, with French Hip-hop displaying the lowest median
energy but with a higher variance.All four playlists have a relaticely
high energy, which is consistant with hip-hop.</p>
<p>Instrumentalness: There’s a general trend towards lower
instrumentalness across all playlists, which reflects hip-hop’s
characteristics where lyrics and vocals are dominant.</p>
<p>Liveness: Liveness appears to be similar across the playlists with
relatively low median values, suggesting that most tracks are
studio-produced rather than live recordings.</p>
<p>Speechiness: Latino hiphop has the highest median speechiness in all,
which could indicate a preference for more wordy and rapping style, and
could also stem from the language structure and habit. The other three
languages have similar median speechiness, with german slightly higher
than the others.</p>
<p>Valence: Valence, which measures the musical positiveness and how
happy it sounds, shows that korean hip-hop has the highest median
valence, suggesting a trend towards more upbeat, positive music in this
category. German Hip-hop has the lowest median valence, possibly
indicating a preference for melanchonic or sad vibes.</p>
<p>Anova test: An ANOVA test was preformed on these features across the
4 groups, the result shows that 4 playlists have siginifant difference
in energy,valence, speechiness and acousticness, which answers to our
question that across these 4 cultures and languages, the playlist in
different languages from which a track comes does have difference in its
energy, valence, speechiness and acousticness, and no statistically
significant difference in liveness, instrumentalness, danceability.</p>
<p>This information is useful for building the classification models and
feature selections later on.</p>
</div>
<div id="correlationaudio-features-popularity-and-timbre"
class="section level3">
<h3>Correlation:Audio features, popularity and timbre</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="576" data-figure-id=fig3 /></p>
<hr />
<p>This is a comprehensive correlation matrix of spotify audio features,
popularity and Spotify timbre coefficient,this graph has a lot of
different information but it is aiming to see if there is any
interesting and unexpected correlations between them.</p>
<p>A red square indicates a positive correlation, a purple square
indicates a negative correlation. The more strong the color is, the more
correlated they are.</p>
<p>We can see that danceability has a moderate positive correlation with
popularity, it suggests that more danceable tracks tend to be more
popular, regardless of linguistic and cultural context. Timbre
coefficient like c05, c08, c11, c12, all have a moderate positive
correlation with popularity.</p>
<p>There are a few correlations here that are interesting to point
out:</p>
<p>Loudness and energy and C01: these three have strong positive
correlation, could mean that they are more or less measuring the same
thing</p>
<p>Acousticsness/ instrumentalness and C02: C02 has strong negative
correlations with acousticness and insrtumentalness, this could mean
that C02 is more related to synthetic or electronically produced sounds
or vocals.</p>
<p>C06 has a strong negative correlation with c11, which could mean that
these coefficients measure some aspects of timbre that are inversely
related.</p>
</div>
<div id="key-profile-of-each-playlist" class="section level3">
<h3>Key profile of each playlist</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="576" data-figure-id=fig4 /></p>
<hr />
<p>This bar chart shows a pitch class profile comparison across hip-hop
playlists from Germany (DE), France (FR), Spain (ES), and Korea (KR). A
pitch class profile illustrates the distribution of musical keys across
a collection of songs.</p>
<p>From this chart, we can observe the following about each
playlist:</p>
<p>German Hip-Hop (DE): The key of B is the most common, followed by A#
and C#, with D# being the least common. French Hip-Hop (FR): The key of
C# and B is the most common, like german rap, D# is the least common in
french rap. Spanish Hip-Hop (ES): The key of C# is the most common, A
seem to be least common. Korean Hip-Hop (KR): A very high count for the
key of C# stands out, suggesting a strong preference for this key. D#, A
and A# are less common.</p>
<p>The data suggests there might be unique cultural signatures in the
harmonic of hiphop music, which could potentially influence
popularity.The pitch class profile can reflect cultural preferences for
certain keys. For example, the prominence of C# across all four
playlists show that there is a preference maybe in the hiphop culture
for this specific key. This could be a factor to consider in predicting
popularity.</p>
<p>A chi-square test showed that there is no siginificant difference in
the preferred pitch classes aross the four playlists.</p>
</div>
<div id="spotify-timbre-coeficient-across-playlists"
class="section level3">
<h3>Spotify Timbre coeficient across playlists</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" width="576" data-figure-id=fig5 /></p>
<hr />
<p>ANOVA test The following coefficients were significant:
C01,C03,C04,C05,C06,C07,C08,C09,C12 This means that the variance in
these coefficient is significantly different across the 4 playlists.
This also indicates that, although they have the same genre as hiphop,
the timbre used in the four playlists in different languages varies
significantly.</p>
<p>From the violin plot we can see that,for example, although all four
playlists have virtually similar distributions for all coefficients.
korean hiphop is slighly higher than others in C01 and C01, while german
hiphop is the lowest in C02. The coefficients that have significant
difference could be useful predictors in distinguishing between the
different playlists.</p>
</div>
<div
id="what-features-make-a-hiphop-song-popular---stepwise-regression-model"
class="section level3">
<h3>What features make a hiphop song popular? - Stepwise regression
model</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" width="576" data-figure-id=fig6 /></p>
<hr />
<p>Because there is a set of potential independent variables in the
feature list and timbre coeficients, stepwise regression model can
reduce the number of variables to only those that provide the most
statistical significance to the model. This stepwise regression model
was performed on combining all the playlists together, this helps us
choose from all the different feature to find the features that are
relevant.</p>
<p>Here are the coefficients that were included in the model:
danceability: the tracks with higher danceability are associated with
higher popularity. It’s statistically significant with a p-value&lt;
0.01. acousticness: more acoustic tracks are, the less popular they are,
with p &lt; 0.05.</p>
<p>instrumentalness: has a negative association with popularity,
However,with a p-value &gt; 0.05, the impact and variance explained by
this feature could be weaker.</p>
<p>mode: Shows a significant negative coefficient, meaning tracks in a
minor key (mode = 0) are on average less popular than those in a major
key (mode = 1), with p &lt; 0.05.</p>
<p>Spotify mfcc coefficients show that c02, c04, c05, c08, c09, c11 all
have significant associations with popularity, with c11, c08, c05 being
positive and c02, c04, c09 being negative.</p>
<p>R-squared: 0.2293 suggests that approximately 22.93% of the
variability in track.popularity is explained in the model.This means
other factors are act play, could be other features that are not
captured and this could also be some business and marketing aspects.
Most importantly, this is a collection of hip-hop songs from 4 different
languages, there could be different factors that contribute to a
specific language’s track popularity.</p>
<p>The overall F-test is significant (p&lt;0.01), suggesting that this
provides a good fit to the data.</p>
</div>
<div id="what-features-make-songs-in-each-language-popular"
class="section level3">
<h3>What features make songs in each language popular?</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" width="576" data-figure-id=fig7 /></p>
<hr />
<p>p-value &lt; 0.05 (<em>): statistical significance. p-value &lt; 0.01
(<strong>): high statistical significance. p-value &lt; 0.001
(</strong></em>): very high statistical significance.</p>
<p>Spanish Hip-Hop: The features valence, speechiness, c05, c09 have
predictive power over track popularity. Other features appeared in this
graph also have acoosiation but not significant with popularity. In
spanish Hip-hop playlist, valence has a positive assoication with
popularity and speechiness has a negative association with
popularity.</p>
<p>French Hip-Hop: Features like instrumentalness have a negative
association with popularity, but it’s not siginificant, and the whole
model is not significant.</p>
<p>German Hip-Hop: In this model, danceability,c01,c02,c03,c06 are
significant predictors of popularity. Danceability, C01, C03 has a
positive assocation with popularity, while spotify mfcc coeficcient c02,
c06 have a negative association with popularity. Energy has a negative
coefficient, which is interesting as it typically would be associated
positively with popularity in hip-hop music.</p>
<p>Korean Hip-Hop: Only c01, c02 and acoustiness were included in the
model, and they are not siginificant.</p>
<p>Across all four cultural contexts, there all have unique features
predicting song popularity, whilst some are not statistically
significant, we can see that in the selected playlist,valence may have a
positive association with popularity in spanish and german hip-hop
songs, and instrumentalness may have a negative association with
popularity in french and spanish hiphop. Some spotify mfcc coefficients
are sigificantly associated with track populartity as well.</p>
<p>In summary, these models support the assumption that some audio
features may universally influence popularity across cultures, while the
impact of others can vary. The variability in significant predictors
across cultures underscores the importance of considering cultural
context in predictive modeling of music popularity.</p>
</div>
<div
id="what-is-the-most-representativemost-average-track-of-each-playlist"
class="section level3">
<h3>What is the most representative(most average) track of each
playlist?</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<pre><code>The most representative track in French Hiphop is: Christian Dior 
The most representative track in German hiphop2 is: THOT 
The most representative track in Korean Hiphop2 is: Ghost 
The most representative track in Latino Hiphop is: Cómo Diamante </code></pre>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-20a50f25f542600550f2" style="width:576px;height:460.8px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-20a50f25f542600550f2">{"x":{"data":[{"x":[1.15207268025049,1.44810762238653,-0.16570277474827,-1.72983657551851,-0.477639929609564,1.02103027779643,-1.09774315771592,-0.649295816517467,0.334964701100594,1.23119638751353,-0.351911780716884,0.576255788632314,1.25916061849971,-0.157761802089838,0.401033502058358,-0.229692908562998,-0.530144616912811,0.327610019969883,0.0112472283152339,0.393420497340849,1.50507631092521,-0.528434606574823,0.071722502732345,1.71315886879893,0.259617512970653,-1.29069715154376,-1.06195682107514,-0.242644516164329,-0.809931030243918,-0.00660215195301141,1.81656227900061,-0.767386405205396,-1.19701581034631,-0.2340759635343,0.507391532268282,1.86755748180489,0.87848343926319,1.35982388534057,-0.256102834133385,-0.830925185910375,4.01288115946504,0.286126342273641,0.719358913195502,0.891282917158284,1.99000234015288,2.28291301855704,-0.357235624627386,-0.154376562492308,2.23590061341736],"y":[2.52931571409709,-0.466260609637256,-0.920317478940803,-0.688308155142381,-1.01536810100119,0.836839904892696,-0.272358373135844,0.351415960638977,-0.27713578478174,0.782152127828493,-1.46595096316368,0.356726302074945,0.31052473396324,0.665612496572405,-1.29286060122902,-0.45660339624382,1.11912966133904,-1.24091490650891,-0.557180804590388,-0.735265544759681,-0.681571068454936,1.97562357582178,-0.348436909336617,0.130379853128258,-0.947808825744721,-0.467289365498468,0.127952553846173,-0.213490179566508,0.50778182619137,-0.33613458463825,0.420945250775369,-0.84181771957438,0.86602206511927,-0.529829576195754,-0.871426920263168,1.01406690258579,-0.490828406139924,1.34830514934958,-0.325439532865969,0.853441353390852,-0.176153848423714,0.226923861335645,-0.810924267824487,-0.824884661738654,1.91871143553219,-0.704038090604972,-0.227900973189907,0.140843369971669,0.499625386025668],"text":["Track: X <br>Language: French Hiphop","Track: PANAMA <br>Language: French Hiphop","Track: Pyramide <br>Language: French Hiphop","Track: Temps en temps <br>Language: French Hiphop","Track: Ça mène à rien <br>Language: French Hiphop","Track: Saison 2 <br>Language: French Hiphop","Track: J'fais plaisir à la zone <br>Language: French Hiphop","Track: Dans un verre <br>Language: French Hiphop","Track: CARTIER <br>Language: French Hiphop","Track: 3 MAI 2025 <br>Language: French Hiphop","Track: Périph <br>Language: French Hiphop","Track: T'aimerais (feat. Ziak) <br>Language: French Hiphop","Track: Chemin d'or <br>Language: French Hiphop","Track: AKRAPO 7 <br>Language: French Hiphop","Track: Dolce Camara <br>Language: French Hiphop","Track: 4MOTION <br>Language: French Hiphop","Track: NOTRE DAME <br>Language: French Hiphop","Track: DIS-MOI (feat. SDM) <br>Language: French Hiphop","Track: 1 2 3 4 <br>Language: French Hiphop","Track: FLASHBACK <br>Language: French Hiphop","Track: Ailleurs <br>Language: French Hiphop","Track: BALLE DANS LE COEUR <br>Language: French Hiphop","Track: Mignon tout plein <br>Language: French Hiphop","Track: Aïcha <br>Language: French Hiphop","Track: Eurostar (feat. Central Cee) <br>Language: French Hiphop","Track: Special <br>Language: French Hiphop","Track: Jour de plus <br>Language: French Hiphop","Track: Immonde <br>Language: French Hiphop","Track: Under Armour <br>Language: French Hiphop","Track: Mucho Cuir <br>Language: French Hiphop","Track: HRTBRK #7 <br>Language: French Hiphop","Track: Dans le noir <br>Language: French Hiphop","Track: Aller sans retour <br>Language: French Hiphop","Track: Meridian <br>Language: French Hiphop","Track: Mahmouma <br>Language: French Hiphop","Track: La Cour des Miracles <br>Language: French Hiphop","Track: Triste mélancolie (feat. Josman) <br>Language: French Hiphop","Track: LOYAL <br>Language: French Hiphop","Track: 6G <br>Language: French Hiphop","Track: KODAK <br>Language: French Hiphop","Track: Kintsugi <br>Language: French Hiphop","Track: Wasabi <br>Language: French Hiphop","Track: SORRY (feat. Hamza & Guy2bezbar) <br>Language: French Hiphop","Track: ZHAR (feat. JeanJass) <br>Language: French Hiphop","Track: Hybrides <br>Language: French Hiphop","Track: Chemin de croix <br>Language: French Hiphop","Track: CEO <br>Language: French Hiphop","Track: sensuellement vôtre <br>Language: French Hiphop","Track: MÉLANGÉ <br>Language: French Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":15.1181102362205,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(FALSE,French Hiphop)","legendgroup":"(FALSE,French Hiphop)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.01093378176715,1.78604625496179,1.18048887631544,-0.0456734486440794,-2.25296688839707,1.24223385516908,1.30160571899508,-0.0504401108914428,1.51343444035814,0.55818202501657,-0.815080252576631,-0.110177026190499,0.377726119822969,1.13578244467175,-1.049831214203,-0.698501700226972,-0.580375378973773,-0.635355876115938,-0.115437484809339,0.457422340519477,-1.25269141535512,1.13037137196833,-0.328046682290064,0.981939199901321,-2.06527132844788,1.56771393670726,-0.513873166685405,-1.11763723063991,0.02252245531454,-0.56783201497302,-1.6345984010199,1.30962748041372,-1.3428133948905,-1.39691461055882,-1.58504614753332,0.226247946852006,1.07841499035091,-0.0197584862521276,0.444632556042087,-1.25853490636483,0.441000623587097,1.32118491433851,-1.22442278186101,2.04292173485544,0.557105288035759,0.375053050398093,0.0571821624904832,-0.567971470702861,-0.441403342311094,-1.25656543703774],"y":[0.22861787354484,0.722544686358148,-0.516823563625394,-0.783399028486093,1.49736787311752,-0.101243453765915,-0.85018334106369,-0.210562125098353,0.0715816587615648,0.856482288836585,0.0489074948180629,0.666434743586258,-0.338215438454795,-1.49823358094015,0.953156788513116,-1.51037125559265,0.175679302065823,-0.318097315892365,-0.136954647402186,-0.623879692058945,0.861049260845636,-0.870537858909935,1.21065885065519,0.0395545315659587,-0.839350531826122,0.256060714911176,-0.939724673040384,-0.48529433238942,1.47744148438628,0.611826142530784,0.511386497417439,0.258321433919495,1.53374796922479,-0.926844549260312,-0.303896839222509,0.556680095463292,1.81061423995141,-1.50906760797952,0.0361172366783964,-1.51958609400266,-1.40569974318857,1.42006791604918,0.89576523222584,0.224957160068169,-0.510180692971847,-0.184189536390604,-1.58870934880594,-0.00496663804415343,2.27121545945267,-0.671927424030876],"text":["Track: MONTENEGRO (feat. RAF Camora) <br>Language: German hiphop2","Track: Another Vibe (feat. Omah Lay) <br>Language: German hiphop2","Track: Like This <br>Language: German hiphop2","Track: Noch ein Glas <br>Language: German hiphop2","Track: SPEED <br>Language: German hiphop2","Track: IN MEINER DNA <br>Language: German hiphop2","Track: Love Ya (feat. Mario) <br>Language: German hiphop2","Track: JUMPSHOT (feat. Summer Cem) <br>Language: German hiphop2","Track: Poster <br>Language: German hiphop2","Track: IN & OUT <br>Language: German hiphop2","Track: SIKI JIZZLE <br>Language: German hiphop2","Track: THOT <br>Language: German hiphop2","Track: 5ive on it <br>Language: German hiphop2","Track: Walou Diploma <br>Language: German hiphop2","Track: BEYDA (feat. Nimo) <br>Language: German hiphop2","Track: FAUXPAS <br>Language: German hiphop2","Track: ALLES GLÄNZT <br>Language: German hiphop2","Track: WONDERFUL LIFE <br>Language: German hiphop2","Track: Loser <br>Language: German hiphop2","Track: MIND ON MY $$$ <br>Language: German hiphop2","Track: Eredivisie <br>Language: German hiphop2","Track: Really <br>Language: German hiphop2","Track: Liebe ist ein Dieb <br>Language: German hiphop2","Track: Ella <br>Language: German hiphop2","Track: Nach vorne <br>Language: German hiphop2","Track: Rio Freestyle <br>Language: German hiphop2","Track: BUSINESS STRAIGHT <br>Language: German hiphop2","Track: Blue Porsche (feat. Niska) <br>Language: German hiphop2","Track: 112 <br>Language: German hiphop2","Track: SAVAGE (feat. LAYLA) <br>Language: German hiphop2","Track: ETA (feat. Luciano) <br>Language: German hiphop2","Track: Schutzengel <br>Language: German hiphop2","Track: sonnenbank.mp3 <br>Language: German hiphop2","Track: Liebe Grüsse <br>Language: German hiphop2","Track: agavendicksaft <br>Language: German hiphop2","Track: Disney <br>Language: German hiphop2","Track: MONEY & FAME <br>Language: German hiphop2","Track: Red Dot (feat. Shindy & AJ Tracey) <br>Language: German hiphop2","Track: SCHWARZES HAUS <br>Language: German hiphop2","Track: DTB <br>Language: German hiphop2","Track: HABIBI <br>Language: German hiphop2","Track: WO BIST DUUU <br>Language: German hiphop2","Track: Bevor du gehst <br>Language: German hiphop2","Track: Say Goodbye (feat. Monty Datta & Snøw) <br>Language: German hiphop2","Track: DTMS <br>Language: German hiphop2","Track: Egal <br>Language: German hiphop2","Track: Mangos mit Chili <br>Language: German hiphop2","Track: Wenn du mich siehst <br>Language: German hiphop2","Track: GHETTOGIRL <br>Language: German hiphop2","Track: Liebst du mich <br>Language: German hiphop2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":0.7,"size":15.1181102362205,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"(FALSE,German hiphop2)","legendgroup":"(FALSE,German hiphop2)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.744119963959,0.0314063109168217,-0.242962927511079,-0.446926092932791,1.21190798510494,-1.56414481329753,-1.05436694423116,-1.12039832036869,-2.16204545004253,-1.6546275395977,0.0773734953442184,-0.208326351526475,-2.17684070573918,-1.47531203851124,-1.73290048159589,-0.559270252217663,1.23923095135963,-0.621233125625797,-1.36326335939655,-1.12364732561797,0.502737026514705,-0.458026689070083,0.376298641098357,-0.828582415828001,-1.74997874156752,0.703993060371342,0.26397046362434,-1.77837890739972,-2.55697222427449,-1.24511375699927,-0.337965758800679,-1.75581561443961,-1.53261332502381,-1.28874443344054,-1.49535884808381,0.0595610949960747,-0.972749746707983,2.02871957728138,-1.2451638826226,-0.177127111594539,-1.54732640674302,-0.148622021003164,-1.67346883983505,-1.15481590602351,-0.0431295561206907,-0.778025490305571,-1.48876695504028,-0.128279798182387,-1.02755129738038],"y":[-1.62672332706743,-0.742046331018083,2.47730395933981,-1.25660210090242,-1.99671593402606,1.73075428960343,0.815646391764057,0.512394299496375,2.42954885893376,-0.8491423661092,-1.13946556269941,0.52623654124557,0.994286465143216,1.78299214427831,-0.510448762287443,-1.36059425790552,0.711603068082857,-1.41425299666814,1.15983022846588,-0.950988765524974,0.0735365036831762,-0.318987509358439,-1.78637539090766,-0.711324582157984,0.220518040380718,-1.57636213246315,1.56683268291555,0.298929486105881,1.37157212730979,0.309731963192997,-1.10882939240203,0.00328272864818113,-1.05233921795428,-1.45684846476665,2.25049794238622,1.25005087853881,-1.9419729118421,-0.446453888873405,-1.31976288476472,-0.671078802762823,-2.10279160295422,3.19149665720761,-0.731296961186243,-0.540239158110628,0.883087721397072,0.479423818530519,2.6303097271785,-0.883778053556288,0.567729455155025],"text":["Track: PITAPA (Feat. pH-1, JUNNY) <br>Language: Korean Hiphop2","Track: i wonder... (with Jung Kook of BTS) <br>Language: Korean Hiphop2","Track: I Don′t Care (Feat. Skinny Brown, CHANGMO) <br>Language: Korean Hiphop2","Track: AK47 <br>Language: Korean Hiphop2","Track: Trap Talk <br>Language: Korean Hiphop2","Track: HELIOT EMIL <br>Language: Korean Hiphop2","Track: XXL <br>Language: Korean Hiphop2","Track: HUH?! (feat. j-hope) <br>Language: Korean Hiphop2","Track: harmless (Feat. CHANMINA) <br>Language: Korean Hiphop2","Track: God Knows (feat. Roh Yun Ha) <br>Language: Korean Hiphop2","Track: Sugar Rush <br>Language: Korean Hiphop2","Track: IXLU <br>Language: Korean Hiphop2","Track: Pink Venom <br>Language: Korean Hiphop2","Track: AEAO <br>Language: Korean Hiphop2","Track: no fun (Feat. Peakboy) <br>Language: Korean Hiphop2","Track: Keep it (Feat. INJAE) <br>Language: Korean Hiphop2","Track: On the top (Feat. The Quiett, Gist) <br>Language: Korean Hiphop2","Track: Rooftop (옥탑) <br>Language: Korean Hiphop2","Track: Travel Again (Feat. Cautious Clay) <br>Language: Korean Hiphop2","Track: BLUE CHECK REMIX (Feat. Blase, 365LIT, JUPITER, KHAN, XINSAYNE, Roh Yun Ha, sokodomo, KOALA, Jambino, Lee Young Ji, Chillin Homie, NSW yoon) <br>Language: Korean Hiphop2","Track: Dillis <br>Language: Korean Hiphop2","Track: Green Juice <br>Language: Korean Hiphop2","Track: IDIOT <br>Language: Korean Hiphop2","Track: Somozu Fury <br>Language: Korean Hiphop2","Track: 미쳐버리겠다 (MAD) <br>Language: Korean Hiphop2","Track: Heels <br>Language: Korean Hiphop2","Track: RicheyJames <br>Language: Korean Hiphop2","Track: Grrr - Spotify Singles <br>Language: Korean Hiphop2","Track: K′up <br>Language: Korean Hiphop2","Track: Summer (Feat. BE’O) <br>Language: Korean Hiphop2","Track: L&B (Feat. Street Baby) <br>Language: Korean Hiphop2","Track: YOUNG POSSE UP (feat.Verbal Jint, NSW yoon, Token) <br>Language: Korean Hiphop2","Track: True Love (Feat. 정선혜 of YOUNG POSSE) <br>Language: Korean Hiphop2","Track: Money Bag <br>Language: Korean Hiphop2","Track: TAIJI <br>Language: Korean Hiphop2","Track: A Better Tomorrow <br>Language: Korean Hiphop2","Track: Tararea <br>Language: Korean Hiphop2","Track: Citi+ <br>Language: Korean Hiphop2","Track: Smoke (Prod. Dynamicduo, Padi) <br>Language: Korean Hiphop2","Track: Baggy Jeans <br>Language: Korean Hiphop2","Track: SAUSAGE (Feat. Rosy Barbie) <br>Language: Korean Hiphop2","Track: Tic Tac? <br>Language: Korean Hiphop2","Track: ROSETTA (Feat. lobonabeat!, Owen, BIG Naughty) - Remix <br>Language: Korean Hiphop2","Track: THOTTIE (feat. sokodomo, XINSAYNE) <br>Language: Korean Hiphop2","Track: Art of War <br>Language: Korean Hiphop2","Track: I KNOW YOU LOVE ME (Feat. Skinny Brown) <br>Language: Korean Hiphop2","Track: PORN FLICK (Feat. YANGHONGWON, Street Baby) (Prod. Matt) <br>Language: Korean Hiphop2","Track: INFJ (Feat. B.I, BANG YEDAM) <br>Language: Korean Hiphop2","Track: VOoDOo BOogie <br>Language: Korean Hiphop2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.7,"size":15.1181102362205,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"(FALSE,Korean Hiphop2)","legendgroup":"(FALSE,Korean Hiphop2)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.0690565803365518,0.449429899624442,0.0746302968978194,-0.392458705441923,2.23063073837099,1.00884227966264,-0.714186100584014,-0.763849422198182,0.336714603194674,-3.09046795633273,0.167700006081878,2.14850871442922,0.919108515474024,-0.972912457907051,-1.0389983788915,-0.0355664568017264,-0.71126741917356,0.918541019481349,5.31412329238205,0.701864375479258,-0.0744872773957974,1.8891484667371,-1.35588828012323,0.475639604711383,-0.0287773272329596,0.229881988911488,0.461098741860512,-0.0218566618531211,-1.17510145869677,0.614492692077307,1.59521879269805,-0.0923620574956466,1.40390295267218,0.179888646494529,-1.68271098344526,1.44125146573099,1.21124138882029,1.36973685970113,-0.739883140354082,1.66417891022556,-0.975226106277688,-0.577911904895648,2.48139504843832,1.14511124339858,0.7858842356305,-0.132311998384962,-1.09595926066527,-1.56195172673241,1.51447907899864],"y":[-0.383042317361994,-0.589684895963202,-1.63219055588741,1.76801676014269,1.91695457736647,0.43867417150622,2.17996576545794,0.105608128585765,0.195444395676742,2.3476469653007,-0.972397622717612,-0.396919527025342,2.63901249073924,-1.2486202380667,-1.68516594360413,-1.73416242929784,1.05031208360596,-1.58190476693004,1.85716148856808,-0.193021758087222,0.273101792183986,-0.406105500773586,3.86571318653532,-0.9751841068799,-1.81988631667917,0.0746785866906889,-0.962510442485349,-1.45079332203598,-0.127799581869489,1.22777767007309,-1.044839472677,-1.17747576360658,0.0600574934995636,0.301722468432993,-1.58191934409186,0.0094466727052045,-0.654924156164915,2.48840416171919,0.748234350179963,0.136330955744227,-1.77218061912571,2.05597074405034,-0.493609590216016,-1.67039065856479,-1.01123076040163,-0.375931123724022,0.713503936259593,0.294770115720746,0.292485775982326],"text":["Track: No Cap - A COLORS SHOW <br>Language: Latino Hiphop","Track: 3 RAP <br>Language: Latino Hiphop","Track: Explicito - Deluxe <br>Language: Latino Hiphop","Track: PA TU EGO <br>Language: Latino Hiphop","Track: De Por Vida <br>Language: Latino Hiphop","Track: fre3styl3 <br>Language: Latino Hiphop","Track: Da Capo <br>Language: Latino Hiphop","Track: Cypher MND #16 v.1 : Duki <br>Language: Latino Hiphop","Track: Honda Civik <br>Language: Latino Hiphop","Track: Bendecidos <br>Language: Latino Hiphop","Track: Intraterreno <br>Language: Latino Hiphop","Track: Presente <br>Language: Latino Hiphop","Track: De La Mata <br>Language: Latino Hiphop","Track: Noviembre <br>Language: Latino Hiphop","Track: Suero Casero <br>Language: Latino Hiphop","Track: Alzypher Vol. 16 <br>Language: Latino Hiphop","Track: Juntos <br>Language: Latino Hiphop","Track: Males Necesarios <br>Language: Latino Hiphop","Track: Sadman (feat. El ultimo del tren) <br>Language: Latino Hiphop","Track: Huéspedes <br>Language: Latino Hiphop","Track: Melancólicos <br>Language: Latino Hiphop","Track: En La Calle <br>Language: Latino Hiphop","Track: Medicina Fina <br>Language: Latino Hiphop","Track: SUCIO <br>Language: Latino Hiphop","Track: No Eres Rapero <br>Language: Latino Hiphop","Track: Más de Ti <br>Language: Latino Hiphop","Track: Cuando Ya Esté Muerto <br>Language: Latino Hiphop","Track: Akapellah Hotline: Cobuz & Bustta <br>Language: Latino Hiphop","Track: Sigo Esperando Que Vuelvas (feat. Los Golpes) <br>Language: Latino Hiphop","Track: Papá <br>Language: Latino Hiphop","Track: Sirena <br>Language: Latino Hiphop","Track: Mexicano <br>Language: Latino Hiphop","Track: Camina Sola <br>Language: Latino Hiphop","Track: Mar y Tierra <br>Language: Latino Hiphop","Track: No Que No Eras Fan <br>Language: Latino Hiphop","Track: Grillz <br>Language: Latino Hiphop","Track: Tocame <br>Language: Latino Hiphop","Track: Ahora y Siempre <br>Language: Latino Hiphop","Track: Ahora Corren <br>Language: Latino Hiphop","Track: Se Me Olvidó <br>Language: Latino Hiphop","Track: DANCE CRIP <br>Language: Latino Hiphop","Track: Duki: Bzrp Music Sessions, Vol. 50 <br>Language: Latino Hiphop","Track: SOLO POR VOS <br>Language: Latino Hiphop","Track: Ilegal <br>Language: Latino Hiphop","Track: Te Marqué Pedo <br>Language: Latino Hiphop","Track: Arcángel: Bzrp Music Sessions, Vol. 54 <br>Language: Latino Hiphop","Track: Como Sea <br>Language: Latino Hiphop","Track: Le Pido a DIOS <br>Language: Latino Hiphop","Track: Si No Hay Mañana - Spotify Singles <br>Language: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":0.7,"size":15.1181102362205,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"(FALSE,Latino Hiphop)","legendgroup":"(FALSE,Latino Hiphop)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.435719555916071],"y":[-0.114380371622105],"text":"Track: Christian Dior <br>Language: French Hiphop","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":30.2362204724409,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(TRUE,French Hiphop)","legendgroup":"(TRUE,French Hiphop)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.63914422844638],"y":[1.65580854847488],"text":"Track: Ghost <br>Language: Korean Hiphop2","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.7,"size":30.2362204724409,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"(TRUE,Korean Hiphop2)","legendgroup":"(TRUE,Korean Hiphop2)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.0440510448266],"y":[-1.72684417784598],"text":"Track: Cómo Diamante <br>Language: Latino Hiphop","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":0.7,"size":30.2362204724409,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"(TRUE,Latino Hiphop)","legendgroup":"(TRUE,Latino Hiphop)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":42.6666666666667,"r":7.30593607305936,"b":39.0867579908676,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"All tracks","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.51069751876847,5.73435285481779],"tickmode":"array","ticktext":["-2","0","2","4"],"tickvals":[-2,0,2,4],"categoryorder":"array","categoryarray":["-2","0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Principal Component 1","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.4012168424287,4.16413842600979],"tickmode":"array","ticktext":["-2","0","2","4"],"tickvals":[-2,0,2,4],"categoryorder":"array","categoryarray":["-2","0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Principal Component 2","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"as.factor(rep_marker)<br />playlist_name","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"c2646bf767b":{"x":{},"y":{},"colour":{},"shape":{},"size":{},"text":{},"type":"scatter"}},"cur_data":"c2646bf767b","visdat":{"c2646bf767b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<hr />
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/7oIDr5FLnnjjwVyPQzd9fr?utm_source=generator&amp;theme=0" width="100%" height="352" frameBorder="0" allowfullscreen allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>
<p>This feature is based on comparing the audio features of each track
against the average audio features of all tracks within the same
language playlist. It computes the average score of each feature of each
playlist and the track whose features are closest to these averages is
considered the most representative.</p>
<p>Here is logic behind this feature that retrieves the most
representative songs in the playlist:</p>
<p>For each playlist, I calculated the average value for each audio
feature across all tracks in that playlist. This gives a profile of what
the average track looks like for each playlist of different
languages.</p>
<p>For each track in a group, calculate the Euclidean distance between
its audio features and the group’s average audio features.The track with
the smallest Euclidean distance to the average profile is considered the
most representative of that group. It’s the track whose features are, on
average, closest to the mean features of the group.</p>
<p>Once the most representative track is identified, its track_name was
extracted.</p>
<p>Then the data was performed a PCA analysis for visualization and
clustering, I highlighted the most representative tracks in each
playlist, and the clours were grouped by playlists.The most
representative tracks are useful for further analysis when we wanna take
a close look at a single track and do anlaysis on it’s chroma and timbre
features.</p>
</div>
<div
id="self-similarity-matrices-of-most-representative-tracks-in-each-language"
class="section level3">
<h3>Self-similarity matrices of most-representative tracks in each
language</h3>
<div id="french" class="section level4">
<h4>french</h4>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-26-1.png" width="576" data-figure-id=fig8 /></p>
<p>German</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-27-1.png" width="576" data-figure-id=fig9 /></p>
<p>Spanish</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-28-1.png" width="576" data-figure-id=fig10 /></p>
<p>Korean</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" width="576" data-figure-id=fig11 /></p>
<hr />
<p>Although the “most representative tracks” in each playlist are
decided by its audio features and how close they are to the average
audio features of the playlist. It would be interesting to look at the
self-similarity matrices of these tracks. Self-similarity matrices offer
a more nuanced look we can look at recurring patterns, motifs, or
structural similarities. From the bigger scope of the structure we can
see that all songs have relatively simple structures, all tracks follow
a structure similar to ABA.</p>
</div>
</div>
<div id="random-forest" class="section level3">
<h3>Random forest</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-33-1.png" width="576" data-figure-id=fig12 /></p>
</div>
<div id="knn-classification" class="section level3">
<h3>KNN classification</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-36-1.png" width="576" data-figure-id=fig13 /></p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" width="576" data-figure-id=fig14 /></p>
<hr />
<p>The model correctly predicted 31 French hip-hop tracks. However, it
incorrectly predicted 11 tracks as German, 1 as Korean, and 6 as
Spanish. There are 27 correct predictions for German hip-hop. The model
correctly predicted Korean hip-hop 31 correctly. There are 22 correct
predictions for Latino hip-hop.</p>
<p>The model has the best classification results observed for Korean
hip-hop and French hip-hop, There seems to be some relatively obvious
confusion between French and German hip-hop tracks, which might suggest
similar audio features between these two categories or a shared musical
influence, and geographically proximate that the model finds difficult
to distinguish.The confusion between certain cultures suggests that the
distinctions made by the model are based on the similarity of audio
features, which may not capture all the nuances of cultural differences.
This provides insight to the research question, that some audio features
in hip-hop may not be as distinct across cultures, and therefore shared
globally. And it might be due to cultural and geographical closeness,
because Korean Hip-hop is easier distinguished in both models than the
other languages, and possible explanation for the confusion which
classifiws Latino hip-hop The results suggest the importance of
investigating which audio features most significantly contribute to the
model’s predictive power, which may reveal insights related to the
research question about how audio features influence track popularity in
different cultures.</p>
<p>Korean hip-hop is consistently identified well by both models,
indicated by high precision and recall across the board. French hip-hop
has improvement in performance when using KNN as opposed to Random
Forest. German hip-hop was predicted better in random forest than KNN ,
while for Spanish Hip-hop, either model clearly outperforming the other
across both metrics for these classes. A precision and recall of 0.62,
using korean hiphop as an example, is quite acceptable in this case,
considering we are trying to use audio features to predict different
languages in the same main genre.This also reflects that there are some
differences in these playlists that contribute to a relatively accurate
model.</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p>Precision and Recall for Random Forest</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<pre><code># A tibble: 4 × 3
  class         precision recall
  &lt;fct&gt;             &lt;dbl&gt;  &lt;dbl&gt;
1 French Hiphop     0.426   0.46
2 German Hiphop     0.537   0.58
3 Korean Hiphop     0.595   0.5 
4 Latino Hiphop     0.52    0.52</code></pre>
<p>Precision and Recall for KNN</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<pre><code># A tibble: 4 × 3
  class         precision recall
  &lt;fct&gt;             &lt;dbl&gt;  &lt;dbl&gt;
1 French Hiphop     0.556   0.6 
2 German Hiphop     0.464   0.52
3 Korean Hiphop     0.615   0.64
4 Latino Hiphop     0.526   0.4 </code></pre>
</div>
<div
id="k-means-clustering-for-songs-in-all-4-playlsits-cluster-numbers"
class="section level3">
<h3>K-means clustering for songs in all 4 playlsits: cluster
numbers</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/unnamed-chunk-42-1.png" width="576" data-figure-id=fig15 /><img src="index_files/figure-html/unnamed-chunk-42-2.png" width="360" data-figure-id=fig15 /></p>
<hr />
<p>Due to the large number of data in this dataset, a hierarchical
clustering would be very difficult to analyse and visualize. Thus, I
used K-means here for its simplicity and efficiency, and easier to
visualize the clusters on a PCA plot. To pick the best cluster numbers
for the k-means clustering model is to see the elbow point in the second
graph, which in this case is 10, so we will have 10 clusters in the next
page.</p>
</div>
<div id="k-means-clustering-for-songs-in-all-4-playlsits-pca-plot"
class="section level3">
<h3>K-means clustering for songs in all 4 playlsits: PCA plot</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-1c47036948899459bd61" style="width:576px;height:460.8px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1c47036948899459bd61">{"x":{"data":[{"x":[0.677087781509989,2.13109729194291,0.587294845703986,0.902116434770565,0.341283701456418,-0.017540762244982,0.5048771947179,0.900262293576882,0.372961639829051,0.780981369986848,0.303663823649836,1.33339503352204,0.870096108583292,0.136346709404677,0.580735151935096,2.17718192299086,1.51888068452504,0.696140960429313,1.64323027618255,2.40143227485697,0.854742839362019,1.18747509953977,1.97643129331855,1.43491214829617,2.99953594113549,2.63963773052791,0.448327107956036,0.304679746393915,1.21313209730243,0.561408033239379,1.50302980392626,0.325317203086623,0.933876693885782,1.59481543101687,-0.419570061395848,1.16337652446642,1.83766731993407],"y":[-0.291616524424124,-1.0092069247745,0.762049831313499,-1.83544335720782,-0.283056584738843,-0.376319379787065,-0.52674950017796,-0.770906889542843,-0.777015153848308,-0.773346800076804,-0.816036082785465,-0.420748235629928,-0.778320683278483,-1.32453799397564,-1.0614668460718,-1.31997418455214,-0.861443628899401,-2.0627262934343,0.0230586483137636,-1.11558908430486,-0.468250794774639,-0.579091291181261,-3.51536241098449,-1.481630860373,-3.04593518546602,-1.68598243298513,-1.9116977713956,-1.47074020592601,-0.35433164708033,-2.16800922839056,-0.545673960733898,-1.1854883276002,-0.307103912627701,-1.59208684556127,-2.31212088251285,-0.833692011770184,-1.03909843622929],"text":["Track: Pyramide <br>Playlist: French Hiphop","Track: Temps en temps <br>Playlist: French Hiphop","Track: CARTIER <br>Playlist: French Hiphop","Track: Dolce Camara <br>Playlist: French Hiphop","Track: 1 2 3 4 <br>Playlist: French Hiphop","Track: FLASHBACK <br>Playlist: French Hiphop","Track: Eurostar (feat. Central Cee) <br>Playlist: French Hiphop","Track: Special <br>Playlist: French Hiphop","Track: Dans le noir <br>Playlist: French Hiphop","Track: Noch ein Glas <br>Playlist: German hiphop2","Track: JUMPSHOT (feat. Summer Cem) <br>Playlist: German hiphop2","Track: agavendicksaft <br>Playlist: German hiphop2","Track: DTB <br>Playlist: German hiphop2","Track: HABIBI <br>Playlist: German hiphop2","Track: Mangos mit Chili <br>Playlist: German hiphop2","Track: AK47 <br>Playlist: Korean Hiphop2","Track: God Knows (feat. Roh Yun Ha) <br>Playlist: Korean Hiphop2","Track: Rooftop (옥탑) <br>Playlist: Korean Hiphop2","Track: Travel Again (Feat. Cautious Clay) <br>Playlist: Korean Hiphop2","Track: BLUE CHECK REMIX (Feat. Blase, 365LIT, JUPITER, KHAN, XINSAYNE, Roh Yun Ha, sokodomo, KOALA, Jambino, Lee Young Ji, Chillin Homie, NSW yoon) <br>Playlist: Korean Hiphop2","Track: IDIOT <br>Playlist: Korean Hiphop2","Track: Somozu Fury <br>Playlist: Korean Hiphop2","Track: Money Bag <br>Playlist: Korean Hiphop2","Track: Tararea <br>Playlist: Korean Hiphop2","Track: SAUSAGE (Feat. Rosy Barbie) <br>Playlist: Korean Hiphop2","Track: ROSETTA (Feat. lobonabeat!, Owen, BIG Naughty) - Remix <br>Playlist: Korean Hiphop2","Track: No Cap - A COLORS SHOW <br>Playlist: Latino Hiphop","Track: 3 RAP <br>Playlist: Latino Hiphop","Track: Melancólicos <br>Playlist: Latino Hiphop","Track: Más de Ti <br>Playlist: Latino Hiphop","Track: Sigo Esperando Que Vuelvas (feat. Los Golpes) <br>Playlist: Latino Hiphop","Track: Mexicano <br>Playlist: Latino Hiphop","Track: Mar y Tierra <br>Playlist: Latino Hiphop","Track: No Que No Eras Fan <br>Playlist: Latino Hiphop","Track: Ilegal <br>Playlist: Latino Hiphop","Track: Te Marqué Pedo <br>Playlist: Latino Hiphop","Track: Arcángel: Bzrp Music Sessions, Vol. 54 <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.939700059337699,2.6861052076203,1.82486441706538,1.49384660184611,-0.300297129840014,2.48252849111729,2.52700305549418,1.81332925526008,-0.126515428515353,2.79350543838148,0.170500767612858,0.214387925989697,1.81026447406557,0.314973759563166,0.44096951311095],"y":[1.04616846362208,0.78595114951134,0.298943120672016,2.47281995689111,1.02984741441786,0.55698862803099,0.477800011882585,1.86212578033042,-0.640188294923135,-0.304507431659269,-0.439828762082022,3.77566655390233,2.14696045711027,0.75586675936352,2.1817642756856],"text":["Track: Liebe ist ein Dieb <br>Playlist: German hiphop2","Track: harmless (Feat. CHANMINA) <br>Playlist: Korean Hiphop2","Track: Pink Venom <br>Playlist: Korean Hiphop2","Track: AEAO <br>Playlist: Korean Hiphop2","Track: RicheyJames <br>Playlist: Korean Hiphop2","Track: K′up <br>Playlist: Korean Hiphop2","Track: YOUNG POSSE UP (feat.Verbal Jint, NSW yoon, Token) <br>Playlist: Korean Hiphop2","Track: TAIJI <br>Playlist: Korean Hiphop2","Track: Da Capo <br>Playlist: Latino Hiphop","Track: Bendecidos <br>Playlist: Latino Hiphop","Track: Juntos <br>Playlist: Latino Hiphop","Track: Medicina Fina <br>Playlist: Latino Hiphop","Track: Duki: Bzrp Music Sessions, Vol. 50 <br>Playlist: Latino Hiphop","Track: Como Sea <br>Playlist: Latino Hiphop","Track: Le Pido a DIOS <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(216,144,0,1)"}},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.317100374047068,1.4576726095232,0.964852501734832,1.39912388074715,0.422768174841263],"y":[0.827940420738071,0.894826782671216,1.51038325872812,0.596412578581826,1.04911093230508],"text":["Track: Chemin d'or <br>Playlist: French Hiphop","Track: Under Armour <br>Playlist: French Hiphop","Track: Aller sans retour <br>Playlist: French Hiphop","Track: sonnenbank.mp3 <br>Playlist: German hiphop2","Track: I Don′t Care (Feat. Skinny Brown, CHANGMO) <br>Playlist: Korean Hiphop2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.92604120918195,-2.2552478335425,-2.12767806059205,-1.46501690745148,-1.7928492182998,-2.28421826835663,-2.99031611674028,-2.1410649455889,-2.18016107724416,-3.05754302155435,-5.97324073788156,-1.43076689247412,-1.65468751568139,-2.93157227075724,-1.77269522919206,-2.44938794908434,-3.5054419626562,-1.77635868443714,-3.13198906923485,-3.11917964680759,-1.48084070563596],"y":[1.03952674457708,0.289062484745622,-0.90405995799081,-0.174737904643553,0.428564165546528,0.247295137548587,1.70786567932588,0.161370849720272,-1.85805298717357,-0.535185732901221,-0.278097593875892,0.192366201021458,0.37771332998627,-0.482705485340999,-0.528802044794581,1.74578997855521,-1.05671101231529,0.560802367332126,1.41532136622958,1.26234267624176,-1.31320314081727],"text":["Track: X <br>Playlist: French Hiphop","Track: 3 MAI 2025 <br>Playlist: French Hiphop","Track: Christian Dior <br>Playlist: French Hiphop","Track: Immonde <br>Playlist: French Hiphop","Track: La Cour des Miracles <br>Playlist: French Hiphop","Track: Triste mélancolie (feat. Josman) <br>Playlist: French Hiphop","Track: LOYAL <br>Playlist: French Hiphop","Track: Wasabi <br>Playlist: French Hiphop","Track: ZHAR (feat. JeanJass) <br>Playlist: French Hiphop","Track: Chemin de croix <br>Playlist: French Hiphop","Track: MÉLANGÉ <br>Playlist: French Hiphop","Track: IN MEINER DNA <br>Playlist: German hiphop2","Track: Love Ya (feat. Mario) <br>Playlist: German hiphop2","Track: Walou Diploma <br>Playlist: German hiphop2","Track: Really <br>Playlist: German hiphop2","Track: Ella <br>Playlist: German hiphop2","Track: Rio Freestyle <br>Playlist: German hiphop2","Track: Disney <br>Playlist: German hiphop2","Track: Say Goodbye (feat. Monty Datta & Snøw) <br>Playlist: German hiphop2","Track: Citi+ <br>Playlist: Korean Hiphop2","Track: Cómo Diamante <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(57,182,0,1)"}},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-3.98554104418493,1.03176292540022,-5.57089942735438],"y":[3.04353719519552,4.6977047873856,2.78039822779853],"text":["Track: Ghost <br>Playlist: Korean Hiphop2","Track: De La Mata <br>Playlist: Latino Hiphop","Track: Sadman (feat. El ultimo del tren) <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.08221450846215,-0.549650870067553,0.266492324021152,-0.541956753985952,-0.684772889445323,-0.270406164222767,0.312447760155784,-1.10411185776944,0.385881384729778,0.199958345538628,-1.04852676465379,0.289726998599205,-0.343486461772491,-0.390639598009535,-0.224793356927591,0.00799066531794211,-0.344670085515602,-1.16951159983297,-1.69229485820134,-0.372065036599193,0.240011625920596,0.280565031977864,0.216190683380945,-0.842696215449552,0.478070131654661,-0.1360094558175,-0.370861410850014,0.383080402193711,-0.729992924528393,-0.706344508279621,0.677802178227064,0.561017916415233,-0.820304816566412,0.649062996276471,0.569859945381325,-0.649053647573506,-0.39106687241306,-0.78919319963735,0.253451889291984,-0.837596328381313,0.3995838865287,-0.200337599375659,-0.477409062794376,-1.3722068613267],"y":[-0.353546541407972,1.75005760642937,0.81043771044399,1.25163487892368,-0.00879542837812042,0.514832255988408,1.62924155117464,1.24614766015861,0.652553339473573,-0.0118992081964402,-0.149189650162019,-0.21057494319575,0.43015354215849,-0.958218387607194,0.303546278059236,0.275796444338675,0.768279950636013,2.13763238703995,1.84143622448707,1.05856461284839,0.17723731284668,0.147147977700172,0.217998552321158,0.384743559526685,-0.403796163657815,0.562898084219526,-0.423662629495231,0.167112467093619,0.162128619306956,0.79499366673184,0.437261059307711,0.460591675525655,0.193164651029889,0.908309373527478,1.39257812259329,-1.04043612206562,2.66675386095468,0.81184953099673,0.626478500665644,-0.336440793075782,1.5419325269004,0.363997747692744,-0.397005116514708,0.970603212443037],"text":["Track: Ça mène à rien <br>Playlist: French Hiphop","Track: Saison 2 <br>Playlist: French Hiphop","Track: J'fais plaisir à la zone <br>Playlist: French Hiphop","Track: T'aimerais (feat. Ziak) <br>Playlist: French Hiphop","Track: AKRAPO 7 <br>Playlist: French Hiphop","Track: 4MOTION <br>Playlist: French Hiphop","Track: NOTRE DAME <br>Playlist: French Hiphop","Track: BALLE DANS LE COEUR <br>Playlist: French Hiphop","Track: Jour de plus <br>Playlist: French Hiphop","Track: Mucho Cuir <br>Playlist: French Hiphop","Track: Mahmouma <br>Playlist: French Hiphop","Track: 6G <br>Playlist: French Hiphop","Track: KODAK <br>Playlist: French Hiphop","Track: SORRY (feat. Hamza & Guy2bezbar) <br>Playlist: French Hiphop","Track: CEO <br>Playlist: French Hiphop","Track: sensuellement vôtre <br>Playlist: French Hiphop","Track: MONTENEGRO (feat. RAF Camora) <br>Playlist: German hiphop2","Track: Like This <br>Playlist: German hiphop2","Track: Poster <br>Playlist: German hiphop2","Track: BEYDA (feat. Nimo) <br>Playlist: German hiphop2","Track: FAUXPAS <br>Playlist: German hiphop2","Track: ALLES GLÄNZT <br>Playlist: German hiphop2","Track: WONDERFUL LIFE <br>Playlist: German hiphop2","Track: Loser <br>Playlist: German hiphop2","Track: Blue Porsche (feat. Niska) <br>Playlist: German hiphop2","Track: SAVAGE (feat. LAYLA) <br>Playlist: German hiphop2","Track: ETA (feat. Luciano) <br>Playlist: German hiphop2","Track: Bevor du gehst <br>Playlist: German hiphop2","Track: DTMS <br>Playlist: German hiphop2","Track: Egal <br>Playlist: German hiphop2","Track: Wenn du mich siehst <br>Playlist: German hiphop2","Track: i wonder... (with Jung Kook of BTS) <br>Playlist: Korean Hiphop2","Track: Sugar Rush <br>Playlist: Korean Hiphop2","Track: Dillis <br>Playlist: Korean Hiphop2","Track: Green Juice <br>Playlist: Korean Hiphop2","Track: L&B (Feat. Street Baby) <br>Playlist: Korean Hiphop2","Track: Tic Tac? <br>Playlist: Korean Hiphop2","Track: Art of War <br>Playlist: Korean Hiphop2","Track: I KNOW YOU LOVE ME (Feat. Skinny Brown) <br>Playlist: Korean Hiphop2","Track: Explicito - Deluxe <br>Playlist: Latino Hiphop","Track: PA TU EGO <br>Playlist: Latino Hiphop","Track: Honda Civik <br>Playlist: Latino Hiphop","Track: Cuando Ya Esté Muerto <br>Playlist: Latino Hiphop","Track: Papá <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.6564815835405,0.251565227702856,1.1999597543595,2.31109268546168,1.41417100999052,1.50650775229226,2.259629726564,1.46857290040788,1.53007535854206,1.32670850111407,3.50345612321354,2.64458622903692,2.50225583036674,2.60907576368583,0.690507986297388,2.63633522132406,0.588819080299464,3.71530990851928,3.43991856846104,1.65667726332475,2.85094358966047,2.51149086942926,1.26155587208742,2.35528103493908,1.78375212961888,1.44327583421871,3.06156966246922,1.7256042923531,1.56358179905621,2.3415134089789],"y":[1.03536238829777,0.457191485979479,0.0736531846095215,1.00188128096614,-0.323078247955631,-0.790785598254596,-0.141360464201953,0.202975346470854,0.34884541389705,0.753764020916554,-0.740272034971236,1.51341743559771,0.906586706691367,-0.155335839060555,1.0574295131078,1.80723333622897,0.569434468028594,0.448185766918715,-0.318147369787721,0.568593280168329,1.13534753697654,-0.530246114359029,-0.251147184280487,0.137493088038824,2.25362380682076,0.691993980824348,1.64732909609962,-0.684122105251334,1.447627999744,-0.858711336209229],"text":["Track: Dans un verre <br>Playlist: French Hiphop","Track: DIS-MOI (feat. SDM) <br>Playlist: French Hiphop","Track: Meridian <br>Playlist: French Hiphop","Track: SPEED <br>Playlist: German hiphop2","Track: SIKI JIZZLE <br>Playlist: German hiphop2","Track: Eredivisie <br>Playlist: German hiphop2","Track: Nach vorne <br>Playlist: German hiphop2","Track: BUSINESS STRAIGHT <br>Playlist: German hiphop2","Track: Liebe Grüsse <br>Playlist: German hiphop2","Track: Liebst du mich <br>Playlist: German hiphop2","Track: PITAPA (Feat. pH-1, JUNNY) <br>Playlist: Korean Hiphop2","Track: HELIOT EMIL <br>Playlist: Korean Hiphop2","Track: XXL <br>Playlist: Korean Hiphop2","Track: HUH?! (feat. j-hope) <br>Playlist: Korean Hiphop2","Track: IXLU <br>Playlist: Korean Hiphop2","Track: no fun (Feat. Peakboy) <br>Playlist: Korean Hiphop2","Track: Keep it (Feat. INJAE) <br>Playlist: Korean Hiphop2","Track: 미쳐버리겠다 (MAD) <br>Playlist: Korean Hiphop2","Track: Grrr - Spotify Singles <br>Playlist: Korean Hiphop2","Track: Summer (Feat. BE’O) <br>Playlist: Korean Hiphop2","Track: True Love (Feat. 정선혜 of YOUNG POSSE) <br>Playlist: Korean Hiphop2","Track: Smoke (Prod. Dynamicduo, Padi) <br>Playlist: Korean Hiphop2","Track: Baggy Jeans <br>Playlist: Korean Hiphop2","Track: THOTTIE (feat. sokodomo, XINSAYNE) <br>Playlist: Korean Hiphop2","Track: PORN FLICK (Feat. YANGHONGWON, Street Baby) (Prod. Matt) <br>Playlist: Korean Hiphop2","Track: INFJ (Feat. B.I, BANG YEDAM) <br>Playlist: Korean Hiphop2","Track: VOoDOo BOogie <br>Playlist: Korean Hiphop2","Track: Suero Casero <br>Playlist: Latino Hiphop","Track: Ahora Corren <br>Playlist: Latino Hiphop","Track: DANCE CRIP <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"7","legendgroup":"7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.73677462219516,-0.764659632214374,-0.677965427170285,-1.36171088684386,0.0561521049561194,-0.42362243897616,-0.86105466347698,-0.3280638160202,-0.544248760915145,-0.254965724061636,-0.168565411691597,-1.57839488029116,-1.277371021631,-1.19613190103275,0.984273554584406,-5.27129165080486],"y":[-1.37122562031439,-2.0987183949563,-2.31089553166476,-0.904280657057779,-2.46135732771139,-0.747980176826613,-2.67827209912259,-2.12891982822535,-3.18556560820192,-2.68780936365515,-4.03359975058966,-4.61762369854362,-1.33738340870653,-1.81057001151346,-2.60513465982819,-3.06301668335127],"text":["Track: PANAMA <br>Playlist: French Hiphop","Track: Périph <br>Playlist: French Hiphop","Track: Mignon tout plein <br>Playlist: French Hiphop","Track: 5ive on it <br>Playlist: German hiphop2","Track: Red Dot (feat. Shindy & AJ Tracey) <br>Playlist: German hiphop2","Track: SCHWARZES HAUS <br>Playlist: German hiphop2","Track: Trap Talk <br>Playlist: Korean Hiphop2","Track: Heels <br>Playlist: Korean Hiphop2","Track: Intraterreno <br>Playlist: Latino Hiphop","Track: Noviembre <br>Playlist: Latino Hiphop","Track: Alzypher Vol. 16 <br>Playlist: Latino Hiphop","Track: Males Necesarios <br>Playlist: Latino Hiphop","Track: SUCIO <br>Playlist: Latino Hiphop","Track: No Eres Rapero <br>Playlist: Latino Hiphop","Track: Akapellah Hotline: Cobuz & Bustta <br>Playlist: Latino Hiphop","Track: Tocame <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(149,144,255,1)"}},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.29002534512606,-0.0655455660835361,-1.24738744188182,-5.00702773916446,-2.06010108737582,-0.868672568972793,-0.511119605279575,-1.45368143752565,-1.14195929559652,-0.995508252646058,-1.43612015121895,-2.64856702863514,-1.3934501553702,-0.3669000209029,-2.04420128988331,-1.04166518976009,-1.56345519942923,-0.700645651868123,-0.706846945462087,-0.994386731512551,-1.57554601658946,-1.70676313585788,-1.02194792317721],"y":[-0.40594575794222,0.250890727452642,1.31809034869262,-1.31233977555374,1.5293570721633,1.07735502684785,-0.139192360585097,-0.418067118425952,0.173543902300214,1.089008957146,-0.71122183846971,0.542150071663809,-0.211908838808394,0.515995809446453,-0.0868000950338707,-0.687609128612922,-0.629323592147824,-0.0820186706330882,0.566437816247903,0.980339558994996,-0.545451313323428,-0.143247029051263,1.09598087771893],"text":["Track: Ailleurs <br>Playlist: French Hiphop","Track: Aïcha <br>Playlist: French Hiphop","Track: HRTBRK #7 <br>Playlist: French Hiphop","Track: Kintsugi <br>Playlist: French Hiphop","Track: Hybrides <br>Playlist: French Hiphop","Track: IN & OUT <br>Playlist: German hiphop2","Track: MIND ON MY $$$ <br>Playlist: German hiphop2","Track: Schutzengel <br>Playlist: German hiphop2","Track: MONEY & FAME <br>Playlist: German hiphop2","Track: WO BIST DUUU <br>Playlist: German hiphop2","Track: On the top (Feat. The Quiett, Gist) <br>Playlist: Korean Hiphop2","Track: De Por Vida <br>Playlist: Latino Hiphop","Track: fre3styl3 <br>Playlist: Latino Hiphop","Track: Presente <br>Playlist: Latino Hiphop","Track: Huéspedes <br>Playlist: Latino Hiphop","Track: En La Calle <br>Playlist: Latino Hiphop","Track: Sirena <br>Playlist: Latino Hiphop","Track: Camina Sola <br>Playlist: Latino Hiphop","Track: Grillz <br>Playlist: Latino Hiphop","Track: Ahora y Siempre <br>Playlist: Latino Hiphop","Track: Se Me Olvidó <br>Playlist: Latino Hiphop","Track: SOLO POR VOS <br>Playlist: Latino Hiphop","Track: Si No Hay Mañana - Spotify Singles <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"9","legendgroup":"9","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.35676667330514,0.0384555170734864,-1.03682035450954,0.115608283539353,0.0452802625124445,0.159038475629738],"y":[0.100155748058882,0.113874489586529,0.438849802852485,2.2330872925313,0.853889312178939,0.319713209473715],"text":["Track: Another Vibe (feat. Omah Lay) <br>Playlist: German hiphop2","Track: THOT <br>Playlist: German hiphop2","Track: 112 <br>Playlist: German hiphop2","Track: GHETTOGIRL <br>Playlist: German hiphop2","Track: A Better Tomorrow <br>Playlist: Korean Hiphop2","Track: Cypher MND #16 v.1 : Duki <br>Playlist: Latino Hiphop"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,98,188,1)"}},"hoveron":"points","name":"10","legendgroup":"10","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":42.6666666666667,"r":7.30593607305936,"b":39.0867579908676,"l":48.9497716894977},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"K-means Clustering","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-6.4576682702016,4.19973744083933],"tickmode":"array","ticktext":["-6","-4","-2","0","2","4"],"tickvals":[-6,-4,-2,0,2,4],"categoryorder":"array","categoryarray":["-6","-4","-2","0","2","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"PC1","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.08339012284008,5.16347121168206],"tickmode":"array","ticktext":["-5.0","-2.5","0.0","2.5","5.0"],"tickvals":[-5,-2.5,0,2.5,5],"categoryorder":"array","categoryarray":["-5.0","-2.5","0.0","2.5","5.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"PC2","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"factor(cluster)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"c26616daa4a":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"}},"cur_data":"c26616daa4a","visdat":{"c26616daa4a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div
id="a-multi-lingual-rap-salad-generating-new-playlists-based-on-k-means-clustering"
class="section level3">
<h3>A multi-lingual rap salad: Generating new playlists based on K-means
clustering</h3>
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/3yUz3EMWQDhlyLPufKMuZL?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>
<p>What should I do if I want to listen to some hiphops with
reggaeton(dembow) beats but not only in spanish? This clustering model
might be the way to it.</p>
<p>This is an example of one of the 10 clusters generated by K-means
clustering, all the languages are mixed together in this playlist with
songs of similar attributes.</p>
</div>
<div id="conrtibutions-and-limitations" class="section level3">
<h3>Conrtibutions and Limitations</h3>
<p>Contributions: The analysis shows that in the trending hip-hop
playlists of the four languages and cultures, there is a difference and
similarity in the track audio features, which could indicate that
certain musical qualities such as danceability, instrumentalness and
liveness are generally appreciated in spotify’s popular hip-hop music,
while others are more culturally specific. Different playlists show
similarities and differences in certain spotify timbre coefficients
too.</p>
<p>By looking at the correlation matrix of audio features and timbre
coefficients, we can get a peak into what each coefficient could be
related to what feature, given a opaque nature of these coefficients. So
that this could be better used for modelling and clustering.</p>
<p>The regression model on the relationship between popularity and
features showed us that certain features are universally associated with
hip-hop track popularity in these playlists, such as danceability. But
for each playlist and language, there are different factors contributing
to track popularity, and for some playlists there is no significant
feactures found, which could mean that there are many other factors that
are not considered here.</p>
<p>The two classifications algorithms employed in this portfolio, random
forest and knn, gave us a comparative analysis and insights for
selecting appropriate predictors, and algorithms. Both algorithms have
moderately good fittings for our data with evaluations shown in
precision and recall, both have their strengths and weaknesses in
identifying different playlists. Korean hip-hop is consistently
identified well by both models, indicated by high precision and recall
across the board.French hip-hop has improvement in performance when
using KNN as opposed to Random Forest. German hip-hop was predicted
better in random forest than KNN, while for Spanish Hip-hop, either
model clearly outperforming the other across both metrics for these
classes.This could also mean that, Korean hiphop playlist has songs that
are more distinguishable from the rest, while german and french hiphop
playlists might share many similarities that confused the algorithms.
The relatively successful classification models also tells us that there
are some machine recognizable differences in these playlists, although
they have same main genre but different languages.</p>
<p>Lastly, this portfolio prompts a new way of appreciating these hiphop
music, which is to mix all the languages together and cluster them based
on features. The k-means clustering of these tracks generated 10 new
playlists, which is a prototype for building a simple recommender
system.</p>
<p>Limitations: Spotify’s definition of popularity is only based on its
algorithms and the populartity within its own platform, thus can not be
generalized to the culture and social context. When using average for
finding the most representative tracks, averages can oversimplify the
complexity of music. A track with average features might not necessarily
embody the typical characteristics appreciated by listeners, and this
also has the assumptions that the features are normally distributed,
which is not true.</p>
<p>The chosen songs for the corpus are from the spotify’s official
playlists of the current trending songs in this genre, there might be
marketing, algorithms and other factors at play, and this tend to
reflect a more mainstream taste in this genre. For answering the
research question about what features contribute to popularity
collectivly and respectively, the findings may be more indicative of
what is currently promoted and more accessible to the average listener
rather than the qualities that contribute to a song’s popularity across
the genre as a whole. The findings of this portfolio would be more
applicable to understanding popularity within the mainstream,
commercially successful music and “curated by Spotify currently”
(important) .There are still many factors and relationships in this
whole business and more factors should be examined and taken into
account for track popularity in the future. For this study, we gain the
very surfaced insight on the current trends in these music on Spotify,
and this can not be generalized very well to the genres,the findings
should be looked at only within these contexts and lenses.</p>
</div>

</div>

<script>
$(document).ready(function() {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed table-sm');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    fillPage: true,
    orientation: "columns",
    storyboard: true,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
  var navbar = $(".navbar").first();
  var body = $("body").first();
  var sidebar = $(".section.sidebar").first();
  function addNavbarPadding() {
    var navHeight = navbar.outerHeight();
    body.css("padding-top", (navHeight + 8) + "px");
    sidebar.css("top", navHeight + "px");
    var resizeEvent = window.document.createEvent("UIEvents");
    resizeEvent.initUIEvent("resize", true, false, window, 0);
    window.dispatchEvent(resizeEvent);
  }
  if (!window.Shiny) setTimeout(addNavbarPadding, 100);
  $(document).on("shiny:idle", function() {
    setTimeout(addNavbarPadding, 50);
  });
});
</script>

</body>
</html>
